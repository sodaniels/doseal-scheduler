<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Password changed</title>

  <style>
    body { margin:0; padding:0; background:#f6f6f6; }
    table { border-collapse:collapse; }
    .wrapper { width:100%; background:#f6f6f6; padding:24px 12px; }
    .container { max-width:600px; margin:0 auto; background:#ffffff; border:1px solid #e9e9e9; border-radius:10px; overflow:hidden; }
    .header { padding:18px 24px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
    .content { padding:24px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color:#111827; font-size:14px; line-height:1.7; }
    .footer { padding:16px 24px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color:#6b7280; font-size:12px; line-height:1.6; border-top:1px solid #f1f1f1; }
    h1 { margin:0 0 8px; font-size:18px; }
    p { margin:0 0 14px; }
    .muted { color:#6b7280; font-size:13px; }
    .card { background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; padding:14px; margin:14px 0; }
    .row { margin:0 0 10px; }
    .label { color:#6b7280; font-size:12px; margin-bottom:2px; }
    .value { color:#111827; font-weight:600; word-break:break-word; }
    .warn { background:#fff7ed; border:1px solid #fed7aa; color:#9a3412; border-radius:10px; padding:12px; }
    @media (max-width: 640px) {
      .wrapper { padding:14px 10px; }
      .content, .header, .footer { padding:16px 18px; }
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <div class="container">

      <div class="header">
        <table role="presentation" width="100%">
          <tr>
            <td style="font-weight:700; color:#111827;">
              {{ app_name }}
            </td>
            <td align="right" style="color:#6b7280; font-size:12px;">
              Security alert
            </td>
          </tr>
        </table>
      </div>

      <div class="content">
        <h1>Your password was changed</h1>

        <p>Hi{{ ", " + fullname if fullname else "" }},</p>

        <p class="muted">
          This is a confirmation that the password for <strong>{{ email }}</strong> was changed.
        </p>

        <div class="card">
          <div class="row">
            <div class="label">Time</div>
            <div class="value">{{ changed_at or "Just now" }}</div>
          </div>

          <div class="row">
            <div class="label">IP address</div>
            <div class="value">{{ ip_address or "Unknown" }}</div>
          </div>

          <div class="row" style="margin-bottom:0;">
            <div class="label">Device / Browser</div>
            <div class="value">{{ user_agent or "Unknown" }}</div>
          </div>
        </div>

        <div class="warn">
          If you didn’t do this, reset your password immediately and contact support.
        </div>

        <p style="margin-top:16px;">
          — {{ app_name }}
        </p>
      </div>

      <div class="footer">
        <p style="margin:0;">
          Need help?
          {% if support_email %}
            Contact <a href="mailto:{{ support_email }}" style="color:#2563eb; text-decoration:underline;">{{ support_email }}</a>.
          {% else %}
            Contact your support team.
          {% endif %}
        </p>
      </div>

    </div>
  </div>
</body>
</html>