## use below to run test
## pytest --log-cli-level=INFO --html=report.html --self-contained-html


#starting the worker dashboard
rq-dashboard
http://localhost:9181 #viewing the worker dashboard

# running the job locally

#API server
#Open new terminal:
venv/bin/gunicorn wsgi:application -b 0.0.0.0:9090 --reload

#RQ Worker (publishing jobs)
OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES venv/bin/rq worker publish

#RQ Scheduler
#Third terminal:
venv/bin/rqscheduler

##ADDING A NEW INTEGRATION
1. CREATE the oauth_[name]_resource.py file that have the three essential endpoints. /start, /callback, /connect-account
2. CREATE the [name]_adapter.py file 
3. Update the server/social/job.py with helper functions and final udpate to _publish_scheduled_post

## NGROK STATIC ADDRESS
ngrok http 9090 --url=inscribable-manipulatedly-davon.ngrok-free.dev

## Test expirey job
flask --app app:create_social_app expire-trials


# SWAGGER
https://inscribable-manipulatedly-davon.ngrok-free.dev/api/openapi.json


curl -i "https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/facebook/start" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk3ZmQxN2I3Y2NiOGZkNzdlN2U4MzljIiwiZXhwIjoxNzcwMjAwNDYyLCJhY2NvdW50X3R5cGUiOiJzeXN0ZW1fb3duZXIiLCJ0eXBlIjpudWxsLCJwZXJtaXNzaW9ucyI6e319.t9B_mBzKXjCyr8Ftma8l4WHw-ud7YW3ZShyIxM7lI4o"

# ONLINE
https://scheduler.doseal.org/social/api/v1/social/oauth/facebook/start
https://scheduler.doseal.org/social/api/v1/social/oauth/facebook/callback


https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/facebook/start
https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/facebook/callback

https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/instagram/start
https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/instagram/callback

https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/threads/start
https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/threads/callback

https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/whatsapp/start
https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/whatsapp/callback

https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/pinterest/start
https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/social/oauth/pinterest/callback


curl -i "https://inscribable-manipulatedly-davon.ngrok-free.dev/social/api/v1/auth/facebook/business/login?return_url=https://inscribable-manipulatedly-davon.ngrok-free.dev" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiNjk5ODMzZTI5OWJlZjE0OTFmNWQ2MTFmIiwiZXhwIjoxNzcxNzk4NzI4LCJhY2NvdW50X3R5cGUiOiJzdXBlcl9hZG1pbiIsInR5cGUiOm51bGwsInBlcm1pc3Npb25zIjp7fX0.kaGtbSTga4RrW-eLwP3ux1MeWIlhe1V9OJ9vl7JJ5Ks"





